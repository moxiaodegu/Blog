# js引擎是如何工作的
### 词法分析
> 把js代码解析成计算机能看懂的语言
> 把字符流转换为标记流（词法单元）
### 语法分析
> 把标记流根据语法规则形成嵌套的语法规则树（AST） 生成相关作用域
### 预编译 -编译器负责
> 代码执行前会进行一个预编译，当遇到var声明和函数声明时，会提升。
> 遇到var声明，编译器会询问当前作用域，是否有一个同名变量，如果有，则会忽略当前声明
1. 全局预编译
	首先会创建一个go对象
	再进行变量提升和函数提升
2. 函数预编译
	在函数调用前，创建一个ao对象，分析参数，分析变量和函数
### 代码生成
>生成字节码
### 代码进入主线程执行 -js引擎
> eventloop 事件循环机制